\ProvidesPackage{thesis_style}

%----------------------------------------------------------------------------------------
%	PACKAGES AND CONFIGURATION
%----------------------------------------------------------------------------------------

% Core packages
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{etoolbox} % For \newbool, \setbool

% Geometry and Layout
\usepackage{geometry}
 \geometry{
 a4paper,
 total={170mm,257mm},
 left=18mm,
 top=20mm,
 }
\usepackage{fancyhdr}
\usepackage{lastpage}

% Spacing and Formatting
\setlength\parindent{0pt}
\usepackage{parskip}
\usepackage{setspace}

% Title formatting
\usepackage{titlesec}
% Chapter: slightly smaller display title with reduced vertical separation
\titleformat{\chapter}[display]{}{}{0pt}{\normalfont\Large\bfseries}
\titlespacing*{\chapter}{0pt}{-50pt}{2pt}

% Section: a bit smaller than before, modest spacing
\titleformat{\section}[hang]{\normalfont\large\bfseries}{\thesection}{1em}{}
\titlespacing*{\section}{0pt}{8pt}{3pt}

% Subsection: smaller and tighter
\titleformat{\subsection}[hang]{\normalfont\normalsize\bfseries}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{6pt}{3pt}

% Subsubsection: smallest heading level, compact spacing
\titleformat{\subsubsection}[hang]{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{0pt}{4pt}{2pt}

% Fonts
\usepackage[scale=0.96]{XCharter} % Use the XCharter text font
\usepackage[xcharter]{newtxmath} % Set the math font

% Graphics and Floats
\usepackage{graphicx}
\graphicspath{{figures/}{./}}
\usepackage{float}

% Lists and Paragraphs
\usepackage{enumitem}
\setlist{partopsep=0pt, topsep=0pt}
\renewcommand{\labelenumi}{\alph{enumi}.}
\setlength{\parindent}{0pt}

% Math and Science
\usepackage{amsmath}
% Note: newtxmath loads amsmath, amsfonts, amssymb automatically
% DO NOT load amsfonts, amssymb, amsthm separately as they conflict with newtxmath
\usepackage{bbold}
\usepackage{dsfont}
\numberwithin{equation}{section}
\usepackage[version=4]{mhchem}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{xcolor}

% Graphics and captions
\usepackage{caption}
\usepackage{subcaption}
\captionsetup{width=\textwidth,justification=centering}
\usepackage{csquotes}


% Highlighting
\usepackage{pythonhighlight}

% Bibliography
\usepackage[style=numeric-comp, backend=biber, sorting=none]{biblatex}
\DeclareCiteCommand{\supercite}[\mkbibsuperscript]
  {\usebibmacro{cite:init}%
   \let\multicitedelim=\supercitedelim
   \iffieldundef{prenote}
     {}
     {\BibliographyWarning{Ignoring prenote argument}}%
   \iffieldundef{postnote}
     {}
     {\BibliographyWarning{Ignoring postnote argument}}%
  \bibopenbracket}%
  {\usebibmacro{citeindex}%
   \usebibmacro{cite:comp}}
  {}
  {\usebibmacro{cite:dump}\bibclosebracket}

\let\cite=\supercite

% Links (Load last)
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=purple,
    filecolor=magenta,      
    urlcolor=purple,
    citecolor=blue,
    pdftitle={Thesis},
    pdfpagemode=FullScreen,
}